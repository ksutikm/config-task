# Обновление конфигурационного файла

---

## О приложении

Приложение работает в консольной программе. При запуске есть меню, которое отображает функционал программы:
- Можно посмотреть само меню,
- Узнать текущую версию приложения,
- Узнать доступные обновления приложения,
- Обновиться до определенной версии,
- Обновиться до последней версии.

---

## config.properties

Конфигурационный файл находится в приложении по пути: ``src/main/resources/config.properties``.

config.properties имеет такой формат:

```
path.postgresql = C:/Program Files/PostgreSQL/9.6/bin
port = 2017
```

---

## version.properties

Версионный файл находится в приложении по пути: ``src/main/resources/version.properties``
Версия приложения состоит из трех чисел, разделенных точками.

version.properties имеет такой формат:

```
app.version = 0.0.0
```

---

## Файлы обновления

Файлы обновления находятся в приложение здесь: ``src/main/resources/Updates``.

Файлы обновления имеют версию и ключи, которые нужно изменить в конфигурационном файле.
Какие ключи нужно обновить следует в блоках ``keys``.
В каждом блоке есть инструкции что с этим ключом нужно сделать.
``update_type`` говорит о том, какое действие нужно совершить с ключом:
* ``add`` - Добавить ключ с дефолтным значением ``default_value``,
* ``rename`` - Переименовать ключ на значение ``value``,
* ``delete`` - Удалить ключ.

Пример файла обновления:

```json
{
  "version": "2.0.5",
  "keys": {
    "user": {
      "update_type": "add",
      "default_value": "user"
    },
    "port": {
      "update_type": "rename",
      "value": "db_port"
    },
    "name": {
      "update_type": "delete"
    }
  }
}
```


